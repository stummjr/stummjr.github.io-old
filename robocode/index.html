<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.9">
<title>Robocode Tutorial</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


/*
 * Theme specific overrides of the preceding (asciidoc.css) CSS.
 *
 */
body {
  font-family: Garamond, Georgia, serif;
  font-size: 17px;
  color: #3E4349;
  line-height: 1.3em;
}
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Garmond, Georgia, serif;
  font-weight: normal;
  border-bottom-width: 0;
  color: #3E4349;
}
div.title, caption.title { color: #596673; font-weight: bold; }
h1 { font-size: 240%; }
h2 { font-size: 180%; }
h3 { font-size: 150%; }
h4 { font-size: 130%; }
h5 { font-size: 115%; }
h6 { font-size: 100%; }
#header h1 { margin-top: 0; }
#toc {
  color: #444444;
  line-height: 1.5;
  padding-top: 1.5em;
}
#toctitle {
  font-size: 20px;
}
#toc a {
    border-bottom: 1px dotted #999999;
    color: #444444 !important;
    text-decoration: none !important;
}
#toc a:hover {
    border-bottom: 1px solid #6D4100;
    color: #6D4100 !important;
    text-decoration: none !important;
}
div.toclevel1 { margin-top: 0.2em; font-size: 16px; }
div.toclevel2 { margin-top: 0.15em; font-size: 14px; }
em, dt, td.hdlist1 { color: black; }
strong { color: #3E4349; }
a { color: #004B6B; text-decoration: none; border-bottom: 1px dotted #004B6B; }
a:visited { color: #615FA0; border-bottom: 1px dotted #615FA0; }
a:hover { color: #6D4100; border-bottom: 1px solid #6D4100; }
div.tableblock > table, table.tableblock { border: 3px solid #E8E8E8; }
th.tableblock, td.tableblock { border: 1px solid #E8E8E8; }
ul > li > * { color: #3E4349; }
pre, tt, .monospaced { font-family: Consolas,Menlo,'Deja Vu Sans Mono','Bitstream Vera Sans Mono',monospace; }
tt, .monospaced { font-size: 0.9em; color: black;
}
div.exampleblock > div.content, div.sidebarblock > div.content, div.listingblock > div.content { border-width: 0 0 0 3px; border-color: #E8E8E8; }
div.verseblock { border-left-width: 0; margin-left: 3em; }
div.quoteblock { border-left-width: 3px; margin-left: 0; margin-right: 0;}
div.admonitionblock td.content { border-left: 3px solid #E8E8E8; }


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48870410-1', 'stummjr.github.io');
  ga('send', 'pageview');

</script>
</head>
<body class="article">
<div id="header">
<h1>Robocode Tutorial</h1>
<span id="author">Prof. Valdir Stumm Júnior - &lt;valdir.stumm@blumenau.ifc.edu.br&gt;</span><br>
<span id="revdate">Instituto Federal Catarinense - Câmpus Blumenau</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introdução">1. Introdução</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image">
<img src="images/img/3.png" alt="images/img/3.png">
</span> <strong><a href="http://robocode.sourceforge.net">Robocode</a></strong> é um jogo de programação, onde os desenvolvedores podem programar tanques de guerra e testá-los contra os tanques programados por outros desenvolvedores. O código que define o comportamento dos tanques pode ser escritos tanto em Java quanto em .NET.</p></div>
<div class="paragraph"><p>Uma vez programados, os tanques (também chamados de <strong>robôs</strong>) são colocados em uma <strong>arena</strong> de combate. A partir do momento em que a <strong>batalha</strong> é iniciada, o programador passa a não poder mais influenciar no jogo, exceto pelo código que escreveu anteriormente e que irá comandar seu robô na batalha. O objetivo do jogo é simples: ser o único robô na arena a não ser destruído. Como é de se esperar, para cumprir tal objetivo, o programador deve criar um robô que seja capaz de evitar ao máximo os tiros dos adversários e também atingi-los sempre que possível.</p></div>
<div class="paragraph"><p>Veja abaixo a janela principal do Robocode, na qual é possível a criação e visualização de batalhas, além da criação de novos robôs. A figura abaixo apresenta uma batalha em execução.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/4.png" alt="images/img/4.png" width="400">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_primeiros_passos">2. Primeiros passos</h2>
<div class="sectionbody">
<div class="paragraph"><p>Antes de sairmos escrevendo o nosso próprio robô, é bom que entendamos o funcionamento básico de um tanque e a quais condições o mesmo está sujeito em uma batalha. Para isso, vamos instalar a plataforma, e depois rodar alguns robôs-exemplo que acompanham o ambiente.</p></div>
<div class="sect2">
<h3 id="_instalação">2.1. Instalação</h3>
<div class="paragraph"><p>Se você é usuário Ubuntu Linux, basta executar o seguinte comando:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>sudo apt-get install robocode</pre>
</div></div>
<div class="paragraph"><p>Se você utiliza alguma versão do Windows, você deveria formatar sua máquina. Brincadeira, você deve baixar o arquivo .jar que contém os executáveis do projeto e rodá-lo em sua máquina. Mas antes disso, é necessário que você instale a máquina virtual Java em seu computador. O arquivo .jar está disponível para download na página oficial do projeto: <a href="http://sourceforge.net/projects/robocode/files/latest/">http://sourceforge.net/projects/robocode/files/latest/</a></p></div>
<div class="paragraph"><p>Uma vez que o arquivo esteja em sua máquina, basta iniciá-lo com duplo clique. Caso o duplo clique não funcione, você ainda pode usar a linha de comando. Vá até o diretório onde está o arquivo .jar e execute:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>java -jar nome_do_arquivo.jar</pre>
</div></div>
<div class="paragraph"><p>Prossiga então a instalação. O instalador fará algumas perguntas, como o local onde será instalado o programa, se você deseja associar os arquivos de batalha com o robocode e se você deseja que seja criado um atalho no desktop. Você pode responder &#8220;Yes&#8221; a todas elas, sem problemas (a não ser que ele se ofereça para instalar alguma <em>toolbar</em> desgraçada).</p></div>
</div>
<div class="sect2">
<h3 id="_iniciando_o_robocode">2.2. Iniciando o Robocode</h3>
<div class="paragraph"><p>Se você estiver utilizando Linux, abra um terminal e digite:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>robocode</pre>
</div></div>
<div class="paragraph"><p>Se você estiver no Windows, formate sua máquina logo! Brincadeira de novo. Basta clicar no atalho deixado pelo instalador no Desktop e no menu iniciar.</p></div>
<div class="paragraph"><p>Após um breve período sendo carregado, você verá a seguinte interface:</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/5.png" alt="images/img/5.png" width="400">
</div>
</div>
<div class="paragraph"><p>Para iniciar uma batalha, clique no menu <em>Battle</em> → <em>New</em>. Uma janela de configuração da nova batalha será aberta. Nessa janela, você deve selecionar os robôs que deseja que sejam inclusos na batalha, clicar no botão <em>Add</em>, e então clicar em <em>Start Battle</em>. Veja a figura abaixo, demonstrando a criação de uma batalha.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/6.png" alt="images/img/6.png" width="400">
</div>
</div>
<div class="paragraph"><p>Após clicar em <em>Start Battle</em>, você verá a tela abaixo com a batalha já iniciada:</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/7.png" alt="images/img/7.png" width="400">
</div>
</div>
<div class="paragraph"><p>Para melhor entendermos o campo de batalha acima, observe os elementos numerados e veja abaixo o que cada um deles significa:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
1) Barra de participantes
</dt>
<dd>
<p>
    Contém todos os participantes da batalha, com indicações visuais sobre o estado de &#8220;saúde&#8221; do robô em questão. Clicando em um dos robôs, é possível visualizar informações sobre o mesmo em tempo real.
</p>
</dd>
<dt class="hdlist1">
2) Barra de depuração
</dt>
<dd>
<p>
    Essa barra permite que pausemos o jogo, para melhor entender o que está acontecendo, além de permitir que paremos e recomecemos o jogo quando quisermos.
</p>
</dd>
<dt class="hdlist1">
3) Arena de batalha
</dt>
<dd>
<p>
    Local onde os robôs irão se degladiar.
</p>
</dd>
<dt class="hdlist1">
4) Barra de velocidade
</dt>
<dd>
<p>
    Nesta barra é possível aumentar ou diminuir a velocidade do jogo.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Execute algumas batalhas e observe o comportamento dos tanques. Diminua a velocidade do jogo para que você possa observar com maiores detalhes as ações tomadas por cada um dos robôs.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nosso_primeiro_robô">3. Nosso primeiro robô</h2>
<div class="sectionbody">
<div class="paragraph"><p>Vamos agora criar o nosso primeiro robô. Na janela principal do Robocode, clique em <em>Robot</em> → <em>Editor</em>. Isso fará com que uma nova janela, chamada de <em>Robot Editor</em>, seja aberta.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/8.png" alt="images/img/8.png" width="400">
</div>
</div>
<div class="paragraph"><p>É nessa janela que vamos criar o código Java que irá controlar nosso robô. Para isso, clique em <em>New</em> → <em>Robot</em>. Uma caixa de diálogo será aberta, perguntando qual o nome que você deseja dar ao novo robô. Escolha um nome e clique em OK. O nome escolhido será o nome da classe Java que será criada. Dessa forma, procure dar um nome que siga as convenções para nomenclatura de classes em Java.</p></div>
<div class="paragraph"><p>Para este exemplo, vamos chamar nosso robô de &#8220;Robbie&#8221; (em homenagem ao robô personagem de uma das estórias de &#8220;Eu, robô&#8221;, escrita por Isaac Asimov em 1939.).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Isaac Asimov</div>
<div class="paragraph"><p>Um dos mais importantes autores de ficção científica de todos os tempos, que publicou uma série de livros muito populares sobre robôs, além de ser o autor das famosas Três Leis da Robótica (se você não o conhece, faça uma busca na web).</p></div>
</td>
</tr></table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/img/9.png" alt="images/img/9.png" width="200">
</div>
</div>
<div class="paragraph"><p>Após clicar em <em>OK</em>, uma nova janela será aberta perguntando pelo nome do pacote para armazenar o robô. Escolha as iniciais do seu nome como nome do pacote. Feito isso, um editor de textos com um código Java pré-definido será aberto. A figura abaixo mostra tal janela.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/10.png" alt="images/img/10.png" width="400">
</div>
</div>
<div class="paragraph"><p>Nessa janela, você escreve o código Java e pode compilá-lo no menu <em>Compiler</em> → <em>Compile</em> (ou <span class="monospaced">ctrl+b</span>). Se a compilação tiver ocorrido sem erros, você verá uma janela igual a mostrada na figura abaixo.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/11.png" alt="images/img/11.png" width="300">
</div>
</div>
<div class="paragraph"><p>Após ter compilado o código, o seu robô foi gerado em um arquivo <span class="monospaced">.class</span>. Agora você poderá testar o novo robô em uma batalha com outros robôs.</p></div>
<div class="sect2">
<h3 id="_testando_o_robô">3.1. Testando o Robô</h3>
<div class="paragraph"><p>Volte para a janela principal do Robocode e clique em <em>Battle</em> → <em>New</em>. Será aberta a janela para você selecionar os robôs que devem compor a batalha. Nessa janela, escolha alguns robôs, incluindo o robô recém criado. Feito isso, clique em <em>Start Battle</em> e veja o seu robô em ação.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/12.png" alt="images/img/12.png" width="400">
</div>
</div>
<div class="paragraph"><p>A figura acima mostra a janela de criação de uma batalha, mostrando a inclusão do robô recém criado.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conhecendo_melhor_o_robô">4. Conhecendo melhor o Robô</h2>
<div class="sectionbody">
<div class="paragraph"><p>Nosso robô é composto por três elementos: arma, radar e corpo do veículo. A figura abaixo mostra os componentes de um robô.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/13.png" alt="images/img/13.png" width="200">
</div>
</div>
<div class="paragraph"><p>O <strong>radar</strong> é um componente que pode ser rotacionado e que é o responsável por detectar a presença de um adversário. Quando um adversário for detectado, um evento é disparado no robô, o que faz com que o método <span class="monospaced">onScannedRobot</span> seja chamado (mais sobre isso nas seções seguintes). O radar é rotacionado em nosso código através de chamadas aos métodos <span class="monospaced">turnRadarLeft</span> e <span class="monospaced">turnRadarRight</span>, que estão implementados na classe <span class="monospaced">Robot</span>.</p></div>
<div class="paragraph"><p>A <strong>arma</strong>, como você deve imaginar, é responsável por emitir os tiros. Assim como o radar, a arma pode ser rotacionada através dos métodos <span class="monospaced">turnGunLeft</span> e <span class="monospaced">turnGunRight</span>, de forma que seja direcionada aos adversários.</p></div>
<div class="paragraph"><p>O <strong>corpo do veículo</strong> também pode ser rotacionado, através de chamadas aos métodos <span class="monospaced">turnLeft</span> e <span class="monospaced">turnRight</span>, e pode andar para frente e para trás, através dos métodos <span class="monospaced">ahead</span> e <span class="monospaced">back</span>, respectivamente.</p></div>
<div class="paragraph"><p>Assim, todos esses componentes podem ser controlados pelo código Java que escrevermos, usando os métodos apresentados acima. Por padrão, os 3 componentes estão &#8220;grudados&#8221; uns aos outros, de forma que ao girar o corpo do veículo, estaremos girando também a arma e o radar. É possível desacoplar esses componentes chamando os métodos <span class="monospaced">setAdjustGunForRobotTurn(true)</span> e <span class="monospaced">setAdjustRadarForGunTurn(true)</span>.</p></div>
<div class="paragraph"><p>Na próxima seção, vamos conhecer um pouco mais sobre a orientação do nosso robô na arena de batalha.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_orientação_na_arena">5. Orientação na arena</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image">
<img src="images/img/14.png" alt="images/img/14.png" width="100">
</span>
Antes de qualquer coisa, precisamos conhecer a arena de batalha. A arena é uma estrutura definida pelo sistema de coordenadas cartesianas, onde a origem (0,0) está no canto inferior esquerdo da tela. Tanto a altura (battlefield_height) quando a largura (battlefield_width) da arena podem ser configuradas na própria interface de criação de batalhas.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/15.png" alt="images/img/15.png" width="400">
</div>
</div>
<div class="sect2">
<h3 id="_heading">5.1. Heading</h3>
<div class="paragraph"><p>Uma propriedade muito importante é o <strong><em>heading</em></strong> do robô. O <em>heading</em> indica a rotação do robô com relação ao &#8220;norte&#8221; (topo) da tela. A figura acima mostra os valores de <em>heading</em> de um robô dependendo de como ele está rotacionado dentro da arena. Veja alguns exemplos de valores da propriedade <em>heading</em> de um robô:</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 1. Heading do nosso robô</caption>
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/16.png" alt="images/img/16.png" width="50">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/17.png" alt="images/img/17.png" width="50">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/18.png" alt="images/img/18.png" width="50">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/19.png" alt="images/img/19.png" width="50">
</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">0°</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">90°</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">180°</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">270°</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>O valor dessa propriedade será sempre o ângulo que a frente do robô está do topo da arena.</p></div>
</div>
<div class="sect2">
<h3 id="_bearing">5.2. Bearing</h3>
<div class="paragraph"><p>Quando nosso robô detecta um robô inimigo através do radar, é possível obtermos algumas informações sobre esse inimigo. Uma dessas informações é o que chamamos de <strong><em>bearing</em></strong>. Essa propriedade nos diz o ângulo em que um inimigo encontrado pelo radar está do <em>heading</em> (da frente) do nosso robô.</p></div>
<div class="paragraph"><p>Veja as imagens abaixo para ter uma melhor idéia sobre o que o <em>bearing</em> significa. Em todas as imagens, o nosso robô é representado pelo robô cinza e o adversário detectado pelo radar é representado pelo robô vermelho.</p></div>
<div class="paragraph"><p>Esta imagem mostra o caso em que nosso robô detecta um adversário e. Uma chamada a e.getBearing() retorna 90, ou seja, o bearing do adversário com relação ao nosso robô é 90°. Para atacá-lo, bastaria rotacionar a arma em 90° e dispará-la.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 2. Exemplos de Bearing</caption>
<col style="width:50%;">
<col style="width:50%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/20.png" alt="images/img/20.png" width="200">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Esta imagem mostra o caso em que nosso robô detecta um adversário e. Uma chamada a e.getBearing() retorna 90, ou seja, o bearing do adversário com relação ao nosso robô é 90°. Para atacá-lo, bastaria rotacionar a arma em 90° e dispará-la.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/21.png" alt="images/img/21.png" width="200">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Esta imagem mostra o caso em que o bearing de nosso adversário é 0° com relação ao heading do nosso robô.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/22.png" alt="images/img/22.png" width="200">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Esta imagem mostra um adversário detectado em um ângulo de aproximadamente 45° com relação ao heading do nosso robô.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/23.png" alt="images/img/23.png" width="200">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Esta imagem mostra um adversário (em vermelho) em um ângulo de 180° do heading do nosso robô (em cinza).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Observe que o <em>bearing</em> é um valor relativo ao nosso <em>heading</em> e à posição de um adversário detectado pelo nosso radar. Assim, para cada adversário detectado teremos um valor de <em>bearing</em>, sempre relativo à frente de nosso robô.</p></div>
<div class="paragraph"><p>Outro detalhe muito importante é que os valores obtidos através de chamadas a <span class="monospaced">getBearing()</span> estão sempre normalizados, isto é os valores estão sempre na faixa de -180° a +180°, ao invés de estarem na faixa de 0° a 360°, como era de se esperar. Assim, se um robô <span class="monospaced">x</span> estiver a um ângulo de 2° à esquerda do nosso robô, uma chamada a <span class="monospaced">x.getBearing()</span> irá retornar -2 e não 358. Isso facilita nossa vida e evita que nosso robô faça giros desnecessários.</p></div>
<div class="paragraph"><p>Veja abaixo as figuras comparando o <em>bearing</em> normalizado com o plano polar tradicional.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 3. Bearing normalizado vs plano de coordenadas polares</caption>
<col style="width:50%;">
<col style="width:50%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/24.png" alt="images/img/24.png" width="300">
</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="image">
<img src="images/img/25.png" alt="images/img/25.png" width="300">
</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Bearing normalizado (-180°, +180°)</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Plano de coordenadas polares (0°, 360°)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contato_com_o_mundo">6. Contato com o mundo</h2>
<div class="sectionbody">
<div class="paragraph"><p>O objetivo do jogo é encontrar os outros robôs e destruí-los, sofrendo o mínimo de dano possível. Para que isso seja possível, vamos usar mecanismos que permitem que o nosso robô sinta a presença de outros elementos na arena, de forma que ele possa se movimentar da melhor maneira possível, evitando choques desnecessários e atirando nos adversários sempre que for adequado.</p></div>
<div class="paragraph"><p>Nosso robô é equipado com alguns sensores que disparam a chamada de métodos em algumas situações particulares. Como, por exemplo, quando ele:</p></div>
<div class="ulist"><ul>
<li>
<p>
bate em uma parede (é chamado o método <span class="monospaced">onHitWall()</span>)
</p>
</li>
<li>
<p>
bate em um adversário (é chamado o método <span class="monospaced">onHitRobot()</span>)
</p>
</li>
<li>
<p>
é atingido por uma bala (é chamado o método <span class="monospaced">onHitByBullet()</span>)
</p>
</li>
<li>
<p>
detecta um adversário no radar (é chamado o método <span class="monospaced">onScannedRobot()</span>)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Além das situações acima listadas, nosso robô também é capaz de sentir quando uma bala que disparou atinge um adversário (<span class="monospaced">onBulletHit()</span>), uma parede (<span class="monospaced">onBulletMissed()</span>) ou outra bala (<span class="monospaced">onBulletHitBullet()</span>).</p></div>
<div class="paragraph"><p>Cada vez que uma das situações acima ocorre, um método específico do nosso robô é chamado. Assim, devemos implementar dentro de cada método o comportamento que queremos que nosso robô tenha em cada caso. Por exemplo, se quisermos que nosso robô reaja ao bater em uma parede, devemos implementar o método <span class="monospaced">onHitWall()</span> na classe que representa o nosso robô com o comportamento desejado.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Mas quem chama esse método quando o robô bate na parede?</div>
<div class="paragraph"><p>Vamos deixar essa dúvida para depois, pois por enquanto tudo que precisamos é saber que devemos implementar o método.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_editando_o_robô">7. Editando o Robô</h2>
<div class="sectionbody">
<div class="paragraph"><p>Agora que conhecemos melhor o robô e a arena, vamos começar a programar o nosso robô. Mas antes de qualquer coisa, precisamos entender a estrutura do código de um robô, e para isso vamos analisar a estrutura do robô gerado pelo editor.</p></div>
<div class="listingblock">
<div class="title">Robbie.java</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">    1:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> vsj<span style="color: #990000">;</span>
<span style="color: #000000">    2:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> robocode<span style="color: #990000">.*;</span>
<span style="color: #000000">    3:</span>
<span style="color: #000000">    4:</span>
<span style="color: #000000">    5:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Robbie</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Robot
<span style="color: #000000">    6:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">    7:</span>
<span style="color: #000000">    8:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span>
<span style="color: #000000">    9:</span>         <span style="color: #FF0000">{</span>
<span style="color: #000000">   10:</span>                 <span style="font-weight: bold"><span style="color: #0000FF">while</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">   11:</span>                         <span style="font-weight: bold"><span style="color: #000000">ahead</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">);</span>
<span style="color: #000000">   12:</span>                         <span style="font-weight: bold"><span style="color: #000000">turnGunRight</span></span><span style="color: #990000">(</span><span style="color: #993399">360</span><span style="color: #990000">);</span>
<span style="color: #000000">   13:</span>                         <span style="font-weight: bold"><span style="color: #000000">back</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">);</span>
<span style="color: #000000">   14:</span>                         <span style="font-weight: bold"><span style="color: #000000">turnGunRight</span></span><span style="color: #990000">(</span><span style="color: #993399">360</span><span style="color: #990000">);</span>
<span style="color: #000000">   15:</span>                 <span style="color: #FF0000">}</span>
<span style="color: #000000">   16:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">   17:</span>
<span style="color: #000000">   18:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">onScannedRobot</span></span><span style="color: #990000">(</span><span style="color: #008080">ScannedRobotEvent</span> e<span style="color: #990000">)</span>
<span style="color: #000000">   19:</span>         <span style="color: #FF0000">{</span>
<span style="color: #000000">   20:</span>                 <span style="font-weight: bold"><span style="color: #000000">fire</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">   21:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">   22:</span>
<span style="color: #000000">   23:</span>
<span style="color: #000000">   24:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">onHitByBullet</span></span><span style="color: #990000">(</span><span style="color: #008080">HitByBulletEvent</span> e<span style="color: #990000">)</span>
<span style="color: #000000">   25:</span>         <span style="color: #FF0000">{</span>
<span style="color: #000000">   26:</span>                 <span style="font-weight: bold"><span style="color: #000000">turnLeft</span></span><span style="color: #990000">(</span><span style="color: #993399">90</span> <span style="color: #990000">-</span> e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBearing</span></span><span style="color: #990000">());</span>
<span style="color: #000000">   27:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">   28:</span>
<span style="color: #000000">   29:</span> <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>A primeira linha do código acima é necessária para que o nosso código faça parte do pacote que definimos no momento da criação do robô (com as iniciais do nome do autor). Já a segunda linha é quem permite que utilizemos classes e métodos disponíveis na biblioteca robocode em nosso código.</p></div>
<div class="paragraph"><p>A linha 4 declara a nossa classe <span class="monospaced">Robbie</span>. Quem ainda não conhece o mecanismo de herança da linguagem Java pode estar estranhando aquele ``extends Robot` ali. Estender uma classe significa que a nossa classe será construída como uma extensão de uma outra classe. Isto é, a classe <span class="monospaced">Robbie</span> irá conter tudo que definirmos em nossa classe, além do que já está definido na classe <span class="monospaced">Robot</span>. Objetos da classe <span class="monospaced">Robot</span> são orientados a eventos, isto é, algumas ocorrências disparam eventos no objeto e a tais eventos são vinculados a métodos que serão chamados quando da ocorrência de tais eventos. Por exemplo, quando o robô é atingido por um tiro de um adversário, o método <span class="monospaced">onHitByBullet</span> é chamado. Assim, para definir <strong>o que</strong> o nosso robô fará quando for atingido por um tiro, basta que implementemos o método <span class="monospaced">onHitByBullet</span> na classe que representa o nosso robô.</p></div>
<div class="paragraph"><p>Veja abaixo os principais métodos que podemos implementar em nosso código e o evento que dispara tal método.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 4. Métodos e eventos</caption>
<col style="width:50%;">
<col style="width:50%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Método </th>
<th class="tableblock halign-left valign-top" >Disparado quando &#8230;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">run</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">o jogo é iniciado.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onHitByBullet</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">o robô é atingido por uma bala.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onScannedRobot</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">um robô inimigo é detectado pelo radar do robô.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onWin</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">o robô vence o jogo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onHitRobot</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">quando o robô bate em um adversário.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onHitWall</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">quando o robô bate na parede.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onBulletHit</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">quando um tiro disparado pelo robô acerta um adversário.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onBulletMissed</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">quando um tiro disparado pelo robô acerta uma parede.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onBulletHitBullet</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">quando a bala disparada pelo robô é interceptada por outra bala.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onDeath</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">quando o robô nosso morre.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">onRobotDeath</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">quando algum robô adversário morre.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Assim, o primeiro método implementado será o <span class="monospaced">run</span>, que é chamado no momento em que a batalha é iniciada. É nesse método que vamos escrever o que o nosso robô terá como comportamento padrão. Em geral, esse método será composto por um <em>loop</em> infinito que irá repetir algumas ações, como girar o radar, se movimentar, dentre outras. É importante rotacionar o radar nesse método para que nosso robô possa detectar os inimigos fazendo com que o método <span class="monospaced">onScannedRobot</span> seja disparado.</p></div>
<div class="paragraph"><p>O código a seguir apresenta o código gerado por padrão para o método run quando criamos um robô.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">ahead</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">turnGunRight</span></span><span style="color: #990000">(</span><span style="color: #993399">360</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">back</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">turnGunRight</span></span><span style="color: #990000">(</span><span style="color: #993399">360</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Como você pode ver, há um <em>loop</em> infinito sendo executado, e dentro desse loop são repetidas as seguintes ações:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ande 100 posições para frente.
</p>
</li>
<li>
<p>
Rotacione a arma 360 graus para a direita.
</p>
</li>
<li>
<p>
Ande 100 posições para trás.
</p>
</li>
<li>
<p>
Rotacione a arma 360 graus para a direita.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Por padrão, o radar e a arma estão presos um no outro, então tanto a arma quanto o radar giram 360 graus.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Herança</div>
<div class="paragraph"><p>Como já comentado anteriormente, nosso robô estende uma classe já existente, chamada de <span class="monospaced">Robot</span>. Ao estender tal classe, que já foi previamente implementada por alguém, nosso robô herda todas as características e comportamento da classe <span class="monospaced">Robot</span>. Ou seja, todos os métodos que foram definidos na classe <span class="monospaced">Robot</span> estão disponíveis para serem chamados pelo nosso robô. Os métodos <span class="monospaced">ahead</span>, <span class="monospaced">back</span> e <span class="monospaced">turnGunRight</span> são exemplos de métodos herdados pelo nosso robô. Além de podermos chamar tais métodos, o mecanismo de herança permite que sobrescrevamos alguns métodos da classe <span class="monospaced">Robot</span>. Por exemplo, se nós implementarmos o método onScannedRobot em nossa classe, quando um robô for detectado pelo nosso radar, o método a ser chamado será o nosso <span class="monospaced">onScannedRobot</span> e não o método <span class="monospaced">onScannedRobot</span> da classe <span class="monospaced">Robot</span>. Isso nos dá muita flexibilidade e permite que especifiquemos comportamentos particulares para o nosso robô.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>O segundo método que vamos analisar é <span class="monospaced">onScannedRobot</span>. Esse método é disparado quando um robô é encontrado pelo nosso radar. No código abaixo, ao encontrar um robô no radar, o nosso robô dispara um tiro de intensidade 1, com uma chamada a <span class="monospaced">fire(1)</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">onScannedRobot</span></span><span style="color: #990000">(</span><span style="color: #008080">ScannedRobotEvent</span> e<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fire</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Aqui poderíamos incluir testes para verificar a distância do robô descoberto pelo radar para definir a intensidade do tiro que iríamos realizar, afinal, quanto mais longe do robô, maiores são as chances de ele desviar do tiro. Esse tipo de refinamento é importante porque, a cada tiro lançado, nosso robô perde energia proporcional à sua intensidade. A intensidade de um tiro pode variar na faixa contínua de 1.0 até 3.0.</p></div>
<div class="paragraph"><p>Vamos a um exemplo: nosso robô deu um tiro de intensidade <span class="monospaced">x</span> e perde <span class="monospaced">x</span> pontos como consequência do tiro. Se o tiro atingir o adversário, este irá perder <span class="monospaced">4*x</span> pontos e nosso robô irá ganhar <span class="monospaced">3*x</span> pontos. Além dessas regras de pontuação, existem outras, que serão explicadas na seção apropriada.</p></div>
<div class="paragraph"><p>Outro método implementado no código do nosso robô é o método <span class="monospaced">onHitByBullet</span>. Esse método será chamado quando nosso robô for atingido por uma bala. Quando isso acontecer, nosso robô será rotacionado para a esquerda tantos graus quantos forem necessários (90° - <em>bearing</em> do inimigo) para que ele fique a 90° com relação ao inimigo, podendo assim fugir mais facilmente da linha de ataque.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">onHitByBullet</span></span><span style="color: #990000">(</span><span style="color: #008080">HitByBulletEvent</span> e<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">turnLeft</span></span><span style="color: #990000">(</span><span style="color: #993399">90</span> <span style="color: #990000">-</span> e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBearing</span></span><span style="color: #990000">());</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>O princípio dessa rotação é simples: rotacione para a esquerda o quanto faltar para que o ângulo do nosso robô fique a 90° do robô adversário, que é o resultado da operação <span class="monospaced">90 – e.getBearing()</span>. No futuro, veremos mais sobre a geometria dos elementos no campo de batalha.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/27.png" alt="images/img/27.png" width="400">
</div>
</div>
<div class="sect2">
<h3 id="_resumo_do_funcionamento">7.1. Resumo do Funcionamento</h3>
<div class="paragraph"><p>Esse é o nosso robô, e ele basicamente faz o seguinte: gira 360°, anda 100 para frente, gira 360°, anda 100 para trás, repetindo isso enquanto estiver vivo. Nesse meio tempo, nosso robô está programado para atirar quando encontrar um adversário no radar e fugir quando for atingido por uma bala. Um robô campeão deve fazer muito mais do que isso. Devem ser exploradas técnicas para evitar tiros, evitar as paredes, além de tornar mais eficiente o uso da arma.</p></div>
<div class="paragraph"><p>A seguir, veremos como funciona uma batalha, quais são as regras, como um robô ganha e perde pontos.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_regras_da_batalha">8. Regras da batalha</h2>
<div class="sectionbody">
<div class="paragraph"><p>Cada jogo é composto por <strong><em>n</em></strong> rodadas (<em>rounds</em>), sendo <strong><em>n</em></strong> um parâmetro configurável. Uma rodada termina quando restar somente um robô &#8220;vivo&#8221;. Quando a rodada seguinte se iniciar, todos os robôs voltam a participar do jogo.</p></div>
<div class="paragraph"><p>Cada robô possui seu nível de energia e todos participantes iniciam cada rodada com nível de energia em 100. Quando atinge o nível de energia 0, o robô explode, saindo da rodada atual do jogo, voltando somente na rodada seguinte.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/28.png" alt="images/img/28.png" width="400">
</div>
</div>
<div class="paragraph"><p>Um robô pode emitir tiros de intensidades que podem variar na faixa de 1.0 até 3.0. O dano causado pelo tiro irá depender diretamente da sua intensidade. Um tiro de intensidade <span class="monospaced">x</span> irá causar um dano de <span class="monospaced">4*x</span> no adversário, mas se <span class="monospaced">x &gt; 1</span>, há um dano adicional de <span class="monospaced">2*(x–1)</span>. Além disso, ao disparar um tiro de intensidade <span class="monospaced">x</span>, o robô perde <span class="monospaced">x</span> pontos de energia. Quando o tiro disparado por um robô atinge um adversário, o robô que deu o tiro recebe de volta <span class="monospaced">3*x</span> pontos de energia. Quando dois robôs se chocam, cada um deles perde 0.6 ponto de energia. Choques contra a parede causam, em geral, 3 pontos de dano à energia do robô (em robôs mais avançados, a velocidade do mesmo é levada em conta).</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_técnicas_de_movimentação">9. Técnicas de Movimentação</h2>
<div class="sectionbody">
<div class="paragraph"><p>Um bom robô deve ser capaz de escapar facilmente da mira de um outro robô e também deve ser capaz de desviar de paredes quando encontrá-las pela frente. Nesta seção veremos exemplos de como proceder em alguns casos específicos que ocorrem em uma batalha.</p></div>
<div class="sect2">
<h3 id="_fugindo_da_parede">9.1. Fugindo da parede</h3>
<div class="paragraph"><p>É muito comum o nosso robô bater contra a parede. Quando isso ocorre, nosso robô perde pontos de energia. Se nada fizermos ao bater contra a parede, o nosso robô permanecerá empurrando ela, o que irá drenar rapidamente a energia dele. Assim, ao encontrar uma parede, temos que fazer com que o robô gire seu corpo para o outro lado e ande em frente. Veja abaixo uma imagem que mostra algumas situações de um robô batendo nas paredes e as rotações necessárias para que ele se vire completamente.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/29.png" alt="images/img/29.png" width="400">
</div>
</div>
<div class="paragraph"><p>Outra técnica poderia fazer com que o robô fosse rotacionado para a diagonal da parede, caso bata contra ela. O importante é rotacionar o robô, de forma que ao andarmos para frente, nos distanciemos da parede.</p></div>
<div class="paragraph"><p>Para seguir a abordagem de uma rotacionar o robô na direção contrária da parede, podemos implementar o método <span class="monospaced">onHitWall</span> da seguinte forma:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">onHitWall</span></span><span style="color: #990000">(</span><span style="color: #008080">HitWallEvent</span> e<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">turnLeft</span></span><span style="color: #990000">(</span><span style="color: #993399">180</span> <span style="color: #990000">-</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">abs</span></span><span style="color: #990000">(</span>e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBearing</span></span><span style="color: #990000">()));</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="title">Math.abs</div>
<div class="paragraph"><p>O método <span class="monospaced">Math.abs</span> retorna o valor absoluto do número passado a ele como parâmetro.</p></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_mirando_o_adversário">9.2. Mirando o adversário</h3>
<div class="paragraph"><p>Quando nosso robô detecta um adversário através do radar, devemos logo rotacionar nossa arma para a direção do adversário encontrado. O ângulo que devemos rotacionar a arma é obtido através de um cálculo bem simples:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>heading do nosso robô – heading da arma + bearing do adversário</pre>
</div></div>
<div class="paragraph"><p>A figura abaixo mostra um exemplo de quanto devemos rotacionar nossa arma para mirar no adversário detectado.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/30.png" alt="images/img/30.png" width="300">
</div>
</div>
<div class="paragraph"><p>Veja um exemplo de código:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">onScannedRobot</span></span><span style="color: #990000">(</span><span style="color: #008080">ScannedRobotEvent</span> e<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">turnGunRight</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">getHeading</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> <span style="font-weight: bold"><span style="color: #000000">getGunHeading</span></span><span style="color: #990000">()</span> <span style="color: #990000">+</span> e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBearing</span></span><span style="color: #990000">());</span>
    <span style="font-weight: bold"><span style="color: #000000">fire</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">);</span>
    <span style="font-style: italic"><span style="color: #9A1900">// gira e corre</span></span>
    <span style="font-weight: bold"><span style="color: #000000">turnRight</span></span><span style="color: #990000">((</span><span style="font-weight: bold"><span style="color: #000000">getGunHeading</span></span><span style="color: #990000">()</span> <span style="color: #990000">+</span> <span style="color: #993399">90.0</span><span style="color: #990000">)</span> – <span style="font-weight: bold"><span style="color: #000000">getHeading</span></span><span style="color: #990000">());</span>
    <span style="font-weight: bold"><span style="color: #000000">ahead</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_fugindo_do_adversário">9.3. Fugindo do adversário</h3>
<div class="paragraph"><p>Quando nosso robô recebe um tiro, provavelmente existe um robô cujo canhão está direcionado diretamente para ele. O ideal em uma situação dessas é fugir em um ângulo reto ao robô adversário. Como já vimmos anteriormente, podemos fazer isso no método <span class="monospaced">onHitByBullet</span>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.6
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">onHitByBullet</span></span><span style="color: #990000">(</span><span style="color: #008080">HitByBulletEvent</span> e<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">turnLeft</span></span><span style="color: #990000">(</span><span style="color: #993399">90</span> <span style="color: #990000">-</span> e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBearing</span></span><span style="color: #990000">());</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Esse método vai fazer com que o nosso robô gire tantos graus quantos forem necessários à esquerda para que o heading do nosso robô fique a 90° do robô adversário, possibilitando que nosso robô fuja para os lados.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/img/27.png" alt="images/img/27.png" width="400">
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr></div>
<div id="footer">
<div id="footer-text">
Last updated 2014-03-24 07:46:30 BRT
</div>
</div>
</body>
</html>
